{
    "initValidation": {},
    "querystring": {},
    "schema": {
        "lineaspresupuestoscli": {
            "rel": "idpresupuesto",
            "querystring": {
                "p_l": 10,
                "p_c": 1
            }
        },
        "histArticulosCli": {
            "query": {
                "p_l": 100
            }
        }
    },
    "layout": {
        "datoscabeceraForm": {
            "prefix": "presupuestoscli",
            "componente": "YBForm",
            "class": "claseGrid",
            "submit": "update",
            "send": false,            
            "success": [{"slot": "refrescar"}],
            "groupbox": "",
            "fields": {
                "gb__": {
                    "title": "",
                    "fields": {
                        "codigo": {"disabled": true},
                        "codejercicio": {"disabled": true},
                        "codserie": {"disabled": true},
                        "numero": {"disabled": true}
                    }
                }
            },
            "exclude": {}
        },
        "groupBoxPestanas": {
            "componente": "YBGroupBoxContainer",
            "className": "",
            "style": {},
            "layout": {
                "Cliente": {
                    "componente": "YBGroupBox",
                    "className": "",
                    "style": {},
                    "layout": {
                        "presupuestoscliForm": {
                            "prefix": "presupuestoscli",
                            "componente": "YBForm",
                            "class": "claseGrid",
                            "submit": "update",
                            "saveReturn": true,
                            "return":true,
                            "send": true,
                            "success": [{"slot": "refrescar"}],
                            "groupbox": "",
                            "fields": {
                                "gb__": {
                                    "title": "",
                                    "fields": {
                                        "codcliente": {"disabled": true},
                                        "nombrecliente": {"disabled": true},
                                        "cifnif": {"disabled": true}
                                    }
                                },
                                "gb__Cliente": {
                                    "title": "",
                                    "fields": {
                                        "direccion":{},
		                                "dirnum":{},
		                                "dirotros": {},
		                                "codpostal": {},
		                                "ciudad": {},
		                                "provincia":{},
		                                "codpais":{}
                                    }
                                }
                            },
                            "exclude": {}
                        }
                    }
                },
                "Datos": {
                    "componente": "YBGroupBox",
                    "className": "",
                    "style": {},
                    "layout": {
                        "articuosForm": {
                            "prefix": "presupuestoscli",
                            "componente": "YBForm",
                            "class": "claseGrid",
                            "submit": "update",
                            "saveReturn": true,
                            "return":true,
                            "send": true,
                            "success": [{"slot": "refrescar"}],
                            "groupbox": "",
                            "fields": {
                                "gb__": {
                                    "title": "",
                                    "fields": {
                                        "fecha": {},
                                        "fechasalida": {},
                                        "codagente": {},
                                        "recfinanciero": {},
                                        "codalmacen": {},
                                        "codpago": {},
                                        "coddivisa": {},
                                        "tasaconv": {},
                                        "totaleuros": {"disabled": true},
                                        "regimeniva": {}

                                    }
                                }
                            },
                            "exclude": {}
                        }
                    }
                },
                "Observaciones": {
                    "componente": "YBGroupBox",
                    "className": "",
                    "style": {},
                    "layout": {
                        "articuosForm": {
                            "prefix": "presupuestoscli",
                            "componente": "YBForm",
                            "class": "claseGrid",
                            "submit": "update",
                            "saveReturn": true,
                            "return":true,
                            "send": true,
                            "success": [{"slot": "refrescar"}],
                            "groupbox": "",
                            "fields": {
                                "gb__": {
                                    "title": "",
                                    "fields": {
                                    	"observaciones": {}
                                    }
                                }
                            },
                            "exclude": {}
                        }
                    }
                },
                "DeCondiciones": {
                    "componente": "YBGroupBox",
                    "className": "",
                    "style": {},
                    "layout": {
                        "articuosForm": {
                            "prefix": "presupuestoscli",
                            "componente": "YBForm",
                            "class": "claseGrid",
                            "submit": "update",
                            "saveReturn": true,
                            "return": true,
                            "success": [{"slot": "refrescar"}],
                            "groupbox": "",
                            "fields": {
                                "gb__decondiciones": {
                                    "title": "",
                                    "fields": {
                                    	"decondiciones": {},
                                        "renovable": {},
                                        "porrenovacion": {},
                                        "fecharenovacion": {},
                                        "mesesrenovacion": {}
                                    }
                                }
                            },
                            "exclude": {}
                        }
                    }
                }

            }
        },
        "articuosForm": {
            "prefix": "presupuestoscli",
            "componente": "YBForm",
            "class": "claseGrid",
            "submit": "update",
            "send": false,
            "success": [{"slot": "refrescar"}],
            "groupbox": "",
            "fields": {
            	"gb_portes": {
            		"title": "Portes",
            		"fields": {
            			"netoportes": {"disabled": true},
                    	"totalivaportes": {"disabled": true},
                    	"totalportes": {"disabled": true}
            		}
            	},
                "gb__": {
                    "title": "",
                    "fields": {
                        "neto": {"disabled": true},
                        "totaliva": {"disabled": true},
                        "totalirpf": {"disabled": true},
                        "totalrecargo": {"disabled": true},
                        "total": {"disabled": true}
                    }
                }
            },
            "exclude": {}
        },
        "masterlineaspresupuestoscli": {
            "componente": "YBTable",
            "label": "Líneas",
            "prefix": "lineaspresupuestoscli",
            "filter": "buscador",
            "columns": [
                {"tipo": "field", "listpos": "title", "key": "referencia", "width": 120},
                 {
                    "tipo": "field",
                    "key": "cantidad",
                    "editable": true,
                    "type": "number",
                    "act": {
                        "key": "modificarCantidad",
                        "success": [
                            {"slot": "refrescar"}
                        ]
                    }
                },
                {"tipo": "field", "listpos": "body", "key": "descripcion", "width": 400, "flex": 3},
                {"tipo": "field", "listpos": "secondaryitem", "key": "pvpunitario"},
                {"tipo": "field", "listpos": "secondaryitem", "key": "pvptotal"},
                {
                    "tipo": "act",
                    "key": "delete",
                    "label": "Borrar Linea",
                    "success": [
                        {"slot": "refrescar"}
                    ]
                },
                {
                    "tipo": "act",
                    "key": "masUno",
                    "label": "Añadir",
                    "success": [
                     	{"slot": "refrescar"}
                 	]
                },
                {
                    "tipo": "act",
                    "key": "menosUno",
                    "label": "Restar",
                    "success": [
                     	{"slot": "refrescar"}
                 	]
                }
            ],
            "rowclick": "link",
            "accionesGrid": [{
                "key": "nuevaLinea",
                "label": "Nuevo",
                "success": []
            }]
        },
        "queryGrid_histArticulosCli": {
            "componente": "YBTable",
            "label": "Histórico",
            "prefix": "histArticulosCli",
            "filter": "",
            "type": "query",
            "columns": [
                {"tipo": "field", "key": "articulos.referencia", "label": "Referencia", "width": 150},
                {"tipo": "field", "key": "articulos.descripcion", "label": "Descripcion", "width": 450},
                {"tipo": "field", "key": "fecha", "label": "Fecha", "width": 50},
                {
                    "tipo": "act",
                    "key": "subirLineaPres",
                    "label": "SubirLineaPres",
                    "success": [
                        {"slot": "refrescar"}
                    ]
                }
            ],
            "rowclick": "",
            "accionesGrid": []
        }
    },
    "acciones": {
        "delete": {
            "action": "deleteRow",
            "icon": "delete"
        },
        "subirLineaPres": {
 			"label": "SubirLineaPres",
            "action": "legacy",
            "serverAction": "subirLineaPres",
            "prefix": "articulos",
            "icon": "add_circle"
        },
     	"masUno": {
 			"label": "Añadir",
            "action": "legacy",
            "serverAction": "masUno",
            "prefix": "lineaspresupuestoscli",
            "icon": "add_circle"
        },
        "menosUno": {
 			"label": "Restar",
            "action": "legacy",
            "serverAction": "menosUno",
            "prefix": "lineaspresupuestoscli",
            "icon": "remove_circle"
        },
        "nuevaLinea": {
            "action": "newRow",
            "icon": "add_circle"
        },
        "modificarCantidad": {
            "action": "legacy",
            "icon": "add_circle",
            "serverAction": "modificarCantidad",
            "params": [
                {
                    "tipo": 3,
                    "verbose_name": "cantidad",
                    "key": "cantidad",
                    "validaciones": null
                }
            ]
        }
    },
    "drawIf": {   
	    "groupBoxPestanas": {
	        "DeCondiciones": "checkCondiciones"
	    }
	}
}
